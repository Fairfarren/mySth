# MongoDB创建账户

## 2017.9.19

给MongoDB创建账户，是为了数据库的安全。否者所有人都能够通过地址链接数据库，怼数据库进行修改，这很不合理。

**因为我的mongod和mongo命令是做了软连接的，所以不需要在mongodb/bin文件下进行操作**

通过命令启动MongoDB服务（普通模式)
>mongod -f ~/MongoDB/etc/mongo.conf
>
>-f 后跟的是MongoDB的配置文件，根据自己的文件填写地址


然后新开一个命令行
>快捷键 command+t

进入Mongo服务下进行操作
>mongo

创建一个admin数据库
>use admin

添加一个账户信息
>db.createUser({user:'admin',pwd:'admin',roles:['root']})

对账户进行认证
>ad.auth('admin','admin')
>
>返回1说明认证成功

然后切换到需要到需要账户认证的数据库，当前测试的是数据库为demo1
>use demo1

同样创建一个账户
>db.createUser({user:'root',pwd:'123',roles:[{role:'dbOwner',db:'demo1'}]})

这个时候基本已近完成，然后在**mongod**的命令行下结束mongod运行，然后重新启动MongoDB服务（认证模式）
>mongod -f ~/MongoDB/etc/mongo.conf --auth

_最后就可以通过账号和密码去连接数据库了，我用的是robomongo，填写好账号，密码和对应的数据库就好了_
